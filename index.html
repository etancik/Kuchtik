<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="UTF-8">
  <title>Kuchařka</title>
</head>
<body>
  <h1>Moje recepty</h1>

  <label>
    <input type="checkbox" class="recipe" data-ingredients="500 g hovězí kližky|2 cibule|2 stroužky česneku|1 lžíce sladké papriky|olej, sůl, pepř">
    Guláš
  </label><br>

  <label>
    <input type="checkbox" class="recipe" data-ingredients="250 g hladké mouky|500 ml mléka|2 vejce|špetka soli">
    Palačinky
  </label><br>

  <button id="exportBtn">Export</button>

  <script>
    document.getElementById("exportBtn").addEventListener("click", () => {
      const checked = [...document.querySelectorAll(".recipe:checked")];
      const items = [];

      checked.forEach(cb => {
        items.push(...cb.dataset.ingredients.split("|"));
      });

      const text = encodeURIComponent(items.join("\n"));
      const shortcutName = encodeURIComponent("LT Import");
      const url = `shortcuts://run-shortcut?name=${shortcutName}&input=${text}`;

      window.location.href = url;
    });
  </script>
</body>
</html>
