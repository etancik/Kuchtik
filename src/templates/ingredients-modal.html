<!-- Ingredients Export Modal -->
<div class="modal fade" id="ingredientsModal" tabindex="-1" aria-labelledby="ingredientsModalTitle" aria-hidden="true">
  <div class="modal-dialog modal-lg modal-dialog-scrollable">
    <div class="modal-content">
      <div class="modal-header" style="position: relative;">
        <h5 class="modal-title" id="ingredientsModalTitle">
          <i class="fas fa-shopping-cart me-2"></i>
          <span data-i18n="ingredientsExport.exportTitle">Export Ingredients</span>
        </h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" style="position: absolute; top: 1rem; right: 1rem; z-index: 1060;"></button>
      </div>
      
      <div class="modal-body">
        <div class="mb-3">
          <p class="text-muted">
            <span data-i18n="ingredientsExport.description">
              Review and select the ingredients you want to add to your shopping list. 
              Ingredients are pre-selected based on your recipe settings.
            </span>
          </p>
        </div>

        <!-- Select All / Deselect All controls -->
        <div class="mb-3 d-flex gap-2">
          <button type="button" class="btn btn-outline-primary" id="selectAllIngredients">
            <i class="fas fa-check-square me-1"></i>
            <span data-i18n="ingredientsExport.selectAll">Select All</span>
          </button>
          <button type="button" class="btn btn-outline-secondary" id="deselectAllIngredients">
            <i class="fas fa-square me-1"></i>
            <span data-i18n="ingredientsExport.deselectAll">Deselect All</span>
          </button>
        </div>

        <!-- Ingredients list container -->
        <div id="ingredientsList" class="border rounded p-3">
          <!-- Ingredients will be dynamically populated here -->
        </div>

        <!-- Selection summary -->
        <div class="mt-3 text-muted small">
          <span data-i18n="ingredientsExport.selectedCount">Selected:</span>
          <span id="selectedIngredientsCount">0</span>
          <span data-i18n="ingredientsExport.of">of</span>
          <span id="totalIngredientsCount">0</span>
          <span data-i18n="ingredientsExport.ingredients">ingredients</span>
        </div>
      </div>
      
      <div class="modal-footer d-flex justify-content-center gap-2 flex-nowrap">
        <button type="button" class="btn btn-outline-primary flex-fill" id="copyToClipboard" style="max-width: 200px;">
          <i class="fas fa-copy me-1"></i>
          <span data-i18n="ingredientsExport.copyToClipboard" class="d-none d-sm-inline">Copy to Clipboard</span>
          <span class="d-sm-none">Copy</span>
        </button>
        <button type="button" class="btn btn-primary flex-fill" id="exportSelectedIngredients" style="max-width: 200px;">
          <i class="fas fa-share-square me-1"></i>
          <span data-i18n="ingredientsExport.exportToShortcuts" class="d-none d-sm-inline">Export to Shortcuts</span>
          <span class="d-sm-none">Export</span>
        </button>
      </div>
    </div>
  </div>
</div>
